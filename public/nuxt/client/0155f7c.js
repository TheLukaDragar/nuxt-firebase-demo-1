(window.webpackJsonp=window.webpackJsonp||[]).push([[33,23],{520:function(e,t,r){var content=r(540);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("1e3d69e4",content,!0,{sourceMap:!1})},521:function(e,t,r){var content=r(542);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("e97b50f6",content,!0,{sourceMap:!1})},528:function(e,t,r){"use strict";r.r(t);var n={name:"Teaser",props:{teaser:{type:Object,required:!0}},data:function(){return{}},computed:{color:function(){return"secondary"}}},o=(r(539),r(51)),c=r(107),l=r.n(c),d=r(166),m=r(371),v=r(523),f=r(510),w=r(576),h=r(137),x=r(162),_=r(633),y=r(507),O=r(45),j=r(174),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex"},[r("v-card",{attrs:{height:"320",width:"500",color:"#1a1a1a",dark:""}},[r("v-toolbar",{attrs:{flat:"",height:"50",color:"transparent"}},[r("v-toolbar-title"),e._v(" "),r("v-spacer"),e._v(" "),r("v-chip",{attrs:{color:"primary","text-color":"white"}},[r("v-avatar",{staticClass:"secondary",attrs:{left:""}},[e._v("\n          5 \n            \n          ")]),e._v("\n          members\n         \n        ")],1)],1),e._v(" "),r("v-img",{attrs:{gradient:"to bottom, rgba(0,0,0,0.3), rgba(0,0,0,.1)",alt:e.teaser.title,height:"220",dark:""},scopedSlots:e._u([e.teaser.imageUrl?{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}:null],null,!0)},[e._v(" "),r("v-card-title",[e._v("\n          "+e._s(e.teaser.name)+"\n\n\n        ")]),e._v(" "),r("v-card-subtitle",[e._v(e._s(e._f("toDate")(e.teaser.created)))])],1),e._v(" "),r("v-card-actions",[r("nuxt-link",{staticClass:"text-gray-700 no-underline hover:text-gray-700",attrs:{to:{name:"team-id",params:{id:e.teaser.id}}}},[r("v-btn",{attrs:{text:"",bottom:"",color:"secondary"},on:{click:function(t){e.reveal=!0}}},[e._v("\n           ENTER\n          ")])],1)],1)],1)],1)}),[],!1,null,"950d3fb0",null);t.default=component.exports;l()(component,{VAvatar:d.a,VBtn:m.a,VCard:v.a,VCardActions:f.a,VCardSubtitle:f.b,VCardTitle:f.d,VChip:w.a,VImg:h.a,VProgressCircular:x.a,VRow:_.a,VSpacer:y.a,VToolbar:O.a,VToolbarTitle:j.a})},529:function(e,t,r){"use strict";r.r(t);var n={name:"LoadingSpinner"},o=(r(541),r(51)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("div",{staticClass:"lds-ring"},[r("div"),e._v(" "),r("div"),e._v(" "),r("div"),e._v(" "),r("div")])])}],!1,null,"1ec4423b",null);t.default=component.exports},539:function(e,t,r){"use strict";r(520)},540:function(e,t,r){var n=r(17)((function(i){return i[1]}));n.push([e.i,".v-card--reveal[data-v-950d3fb0]{\n  bottom:0;\n  opacity:1!important;\n  position:absolute;\n  width:100%\n}\n.notrounded-corner[data-v-950d3fb0]{\n  border-radius:0!important\n}",""]),n.locals={},e.exports=n},541:function(e,t,r){"use strict";r(521)},542:function(e,t,r){var n=r(17)((function(i){return i[1]}));n.push([e.i,".lds-ring[data-v-1ec4423b]{\n  display:inline-block;\n  position:relative;\n  width:80px;\n  height:80px\n}\n.lds-ring div[data-v-1ec4423b]{\n  box-sizing:border-box;\n  display:block;\n  position:absolute;\n  width:64px;\n  height:64px;\n  margin:5px;\n  border-radius:50%;\n  -webkit-animation:lds-ring-data-v-1ec4423b 1.2s cubic-bezier(.5,0,.5,1) infinite;\n          animation:lds-ring-data-v-1ec4423b 1.2s cubic-bezier(.5,0,.5,1) infinite;\n  border:5px solid transparent;\n  border-top-color:#dd6b20\n}\n.lds-ring div[data-v-1ec4423b]:first-child{\n  -webkit-animation-delay:-.45s;\n          animation-delay:-.45s\n}\n.lds-ring div[data-v-1ec4423b]:nth-child(2){\n  -webkit-animation-delay:-.3s;\n          animation-delay:-.3s\n}\n.lds-ring div[data-v-1ec4423b]:nth-child(3){\n  -webkit-animation-delay:-.15s;\n          animation-delay:-.15s\n}\n@-webkit-keyframes lds-ring-data-v-1ec4423b{\n0%{\n    transform:rotate(0deg)\n}\nto{\n    transform:rotate(1turn)\n}\n}\n@keyframes lds-ring-data-v-1ec4423b{\n0%{\n    transform:rotate(0deg)\n}\nto{\n    transform:rotate(1turn)\n}\n}",""]),n.locals={},e.exports=n},543:function(e,t,r){"use strict";r.r(t);r(10),r(7),r(8),r(14),r(15);var n=r(5),o=r(3),c=(r(9),r(28),r(76)),l=r(528);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={components:{LoadingSpinner:r(529).default,TeamCard:l.default},data:function(){return{teasers:[],eof:!1,isLoading:!1,lastDoc:null,batchSize:8}},computed:m({},Object(c.b)(["UserInfo"])),mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadVideos();case 2:case"end":return t.stop()}}),t)})))()},destroyed:function(){},methods:{loadVideos:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoading&&!e.eof){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,r=e.$fire.firestore,n=r.collection("teams").where("members","array-contains",e.UserInfo.uid).orderBy("created","desc").limit(e.batchSize),e.lastDoc&&(n=n.startAfter(e.lastDoc)),t.next=8,n.onSnapshot((function(t){t.docChanges().forEach((function(t){"added"===t.type&&e.teasers.push(m({id:t.doc.id},t.doc.data()))}))}));case 8:t.sent,e.isLoading=!1;case 10:case"end":return t.stop()}}),t)})))()}}},f=r(51),w=r(107),h=r.n(w),x=r(584),_=r(633),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("v-row",e._l(e.teasers,(function(e){return r("v-col",{key:e.id,attrs:{col:"5"}},[r("team-card",{attrs:{teaser:e}})],1)})),1),e._v(" "),e.isLoading?r("loading-spinner"):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{TeamCard:r(528).default,LoadingSpinner:r(529).default}),h()(component,{VCol:x.a,VRow:_.a})},589:function(e,t,r){"use strict";r.r(t);r(10),r(7),r(8),r(14),r(9),r(15);var n=r(5),o=r(3),c=(r(33),r(180),r(34),r(69),r(78),r(61),r(52),r(12),r(20),r(24),r(28),r(543),r(76)),l=r(592),d=r(585);r(586);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var v={layout:"main",data:function(){return{dialog:!1,joindialog:!1,team:{}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)(["UserInfo"])),components:{},methods:{submitJoinForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.team.id){t.next=4;break}return alert("Please enter the team ID."),e.$refs.id2.focus(),t.abrupt("return");case 4:if(e.team.password){t.next=8;break}return alert("Please enter the team password."),e.$refs.password2.focus(),t.abrupt("return");case 8:return t.next=10,e.joinATeam();case 10:case"end":return t.stop()}}),t)})))()},joinATeam:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$fire.functions.httpsCallable("joinATeam")({uid:e.UserInfo.uid,team_id:e.team.id,password:e.team.password});case 3:r=t.sent,console.log(r),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert(t.t0.message);case 11:e.joindialog=!1;case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},submitForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.team.id){t.next=4;break}return alert("Please enter the team ID."),e.$refs.id.focus(),t.abrupt("return");case 4:return t.next=6,e.checkExists(e.team.id);case 6:if(!t.sent){t.next=11;break}return alert("Team already exists. Please enter a unique team ID."),e.$refs.id.focus(),t.abrupt("return");case 11:if(e.team.password){t.next=15;break}return alert("Please enter team password."),e.$refs.password.focus(),t.abrupt("return");case 15:return t.next=17,e.writeToDB();case 17:case"end":return t.stop()}}),t)})))()},updateId:function(){this.team.id=this.slugify(this.team.name)},slugify:function(e){var a="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",p=new RegExp(a.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(p,(function(e){return"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(a.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},checkExists:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$fire.firestore,t.next=3,r.collection("teams").doc(e.team.id).get();case 3:return n=t.sent,t.abrupt("return",n.exists);case 5:case"end":return t.stop()}}),t)})))()},writeToDB:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,m,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.default.firestore.FieldValue.serverTimestamp(),n=d.default.firestore(),o=Object(l.cloneDeep)(e.team),c=o.id,delete o.id,o.members=[e.UserInfo.uid],o.created=r,o.owner=e.UserInfo.uid,t.prev=8,m=[],v=n.collection("teams").doc(c).set(o),m.push(v),t.next=14,Promise.all(m);case 14:e.dialog=!1,t.next=21;break;case 17:t.prev=17,t.t0=t.catch(8),alert("Error saving team"),console.error(t.t0);case 21:o.id=c,e.$emit("input",Object(l.cloneDeep)(o));case 23:case"end":return t.stop()}}),t,null,[[8,17]])})))()}}},f=r(51),w=r(107),h=r.n(w),x=r(371),_=r(523),y=r(510),O=r(509),j=r(642),k=r(163),C=r(633),P=r(507),V=r(641),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("teams"),e._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:"",absolute:"",bottom:"",right:"",fab:""}},"v-btn",o,!1),n),[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",[r("span",{staticClass:"text-h5"},[e._v("New Team Creator")])]),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"title"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Team name")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.name,expression:"team.name"}],staticClass:"p-2 text-subtitle-1",attrs:{id:"title",type:"text",placeholder:"Title"},domProps:{value:e.team.name},on:{input:[function(t){t.target.composing||e.$set(e.team,"name",t.target.value)},e.updateId]}})]),e._v(" "),r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"id"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Team ID")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.id,expression:"team.id"}],ref:"id",staticClass:"p-2 text-subtitle-1",attrs:{id:"id",type:"text",placeholder:"ID"},domProps:{value:e.team.id},on:{input:function(t){t.target.composing||e.$set(e.team,"id",t.target.value)}}})]),e._v(" "),r("v-row",[r("v-text-field",{attrs:{label:"Team Description",hint:"example of helper text only on focus"}})],1),e._v(" "),r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"password"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Password")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.password,expression:"team.password"}],ref:"password",staticClass:"p-2 text-subtitle-1",attrs:{id:"password",type:"passsword",placeholder:"password"},domProps:{value:e.team.password},on:{input:function(t){t.target.composing||e.$set(e.team,"password",t.target.value)}}})])],1),e._v(" "),r("small",[e._v("*indicates required field")])],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.submitForm}},[e._v(" Save ")])],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"red",dark:"",absolute:"",bottom:"",left:"",fab:""}},"v-btn",o,!1),n),[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.joindialog,callback:function(t){e.joindialog=t},expression:"joindialog"}},[e._v(" "),r("v-card",[r("v-card-title",[r("span",{staticClass:"text-h4"},[e._v("Join A Team")])]),e._v(" "),r("v-card-text",[r("v-container",[r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"title2"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Team Name")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.name,expression:"team.name"}],staticClass:"p-2 text-subtitle-1",attrs:{id:"title2",type:"text",placeholder:"Title"},domProps:{value:e.team.name},on:{input:[function(t){t.target.composing||e.$set(e.team,"name",t.target.value)},e.updateId]}})]),e._v(" "),r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"id2"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Team ID")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.id,expression:"team.id"}],ref:"id2",staticClass:"p-2 text-subtitle-1",attrs:{id:"id2",type:"text",placeholder:"ID"},domProps:{value:e.team.id},on:{input:function(t){t.target.composing||e.$set(e.team,"id",t.target.value)}}})]),e._v(" "),r("v-row",{staticClass:"flex-column"},[r("label",{attrs:{for:"password2"}},[r("span",{staticClass:"font-weight-bold text-h6"},[e._v("Password")])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.team.password,expression:"team.password"}],ref:"password2",staticClass:"p-2 text-subtitle-1",attrs:{id:"password2",type:"passsword",placeholder:"password"},domProps:{value:e.team.password},on:{input:function(t){t.target.composing||e.$set(e.team,"password",t.target.value)}}})])],1),e._v(" "),r("small",[e._v("*indicates required field")])],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.joindialog=!1}}},[e._v("\n          Close\n        ")]),e._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.submitJoinForm}},[e._v("\n          Join\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{Teams:r(543).default}),h()(component,{VBtn:x.a,VCard:_.a,VCardActions:y.a,VCardText:y.c,VCardTitle:y.d,VContainer:O.a,VDialog:j.a,VIcon:k.a,VRow:C.a,VSpacer:P.a,VTextField:V.a})}}]);